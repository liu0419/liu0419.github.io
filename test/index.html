
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>index</title>
  <!-- å¼•å…¥ Bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">
  <link rel="stylesheet" type="text/css" href="airbnb.css" />

  <style>
    /* ç°¡å–®æ¨£å¼ */
    #cart-icon {
      margin-left: -10px;
      cursor: pointer;
      font-size: 24px;
    }

    #cart-popup {
      display: none;
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 300px;
      background: #f9f9f9;
      border: 1px solid #ccc;
      padding: 20px;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      z-index: 1000;
    }

    #cart-popup h3 {
      margin: 0 0 10px;
    }

    #cart-popup ul {
      list-style: none;
      padding: 0;
      margin: 0;
    }

    #cart-popup ul li {
      margin: 5px 0;
    }

    #overlay {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.5);
      z-index: 999;
    }
  </style>

</head>

<body>
  <!-- é ‚éƒ¨å°è¦½åˆ— -->
  <nav class="navbar navbar-expand-lg navbar-light">
    <div class="container">
      <!-- å·¦å´Logo -->
      <a class="navbar-brand" href="#">
        <img src="https://tomorrowhubs.com/upload/users/image/airbnb(1).png" alt="Airbnb Logo">
      </a>
      <!-- æ¼¢å ¡é¸å–®æŒ‰éˆ• -->
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
        aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <!-- æœå°‹æ¬„å’Œå³å´æŒ‰éˆ• -->
      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav " style="margin-left: auto; padding:0px 20px">
          <li class="nav-item w-60">
            <div class="searchBar d-flex align-items-center  ">
              <input type="text" placeholder="æœå°‹ " class="form-control tranlatable">
              <button class="btn">
                <i class="bi bi-search"></i>
              </button>
            </div>
          </li>
        </ul>
        <ul class="navbar-nav" style="align-items: center">
          <select id="language-select" style="height: 30px;width: 90px; ">
            <option value="zh">ä¸­æ–‡</option>
            <option value="en">English</option>
            <option value="es">EspaÃ±ol</option>
            <!-- æ›´å¤šèªè¨€é¸é … -->
          </select>
          <li class="nav-item">
            <a href="#" class="nav-link">
              <i class="bi bi-person-circle icon-menu" style="font-size:2rem"></i>
            </a>
          </li>

        </ul>

      </div>
    </div>
    <div style="transform:scale(1.5)" id="cart-icon" class="d-flex align-items-center mx-auto">ğŸ›’</div>
  </nav>
  <!-- è³¼ç‰©è»Šå½ˆè·³è¦–çª— -->
  <div id="overlay"></div>
  <div id="cart-popup">
    <h3>è³¼ç‰©è»Šå…§å®¹</h3>
    <ul id="cart-items"></ul>
    <button id="close-popup">é—œé–‰</button>
  </div>

  <!-- é¡åˆ¥æ¬„ -->
  <div class="container-fluid border-bottom py-2 image-container">

    <div class="d-flex justify-content-around category-icons image-container">
      <a href="#" class="text-center category-item " data-target="category1">
        <img src="https://a0.muscache.com/pictures/747b326c-cb8f-41cf-a7f9-809ab646e10c.jpg" alt="å°æœ¨å±‹">
        <p class="mb-0" id="wood">å°æœ¨å±‹</p>
      </a>
      <a href="#" class="text-center category-item" data-target="category2">
        <img src="https://a0.muscache.com/pictures/3b1eb541-46d9-4bef-abc4-c37d77e3c21b.jpg" alt="æ°‘å®¿">
        <p class="mb-0" id="bnb">æ°‘å®¿</p>
      </a>
      <a href="#" class="text-center category-item" data-target="category3">
        <img src="https://cdn-icons-png.flaticon.com/512/190/190590.png" alt="å‰è¡›é¢¨æ ¼">
        <p class="mb-0">å‰è¡›é¢¨æ ¼</p>
      </a>
      <a href="#" class="text-center category-item" data-target="category4">
        <img src="https://cdn-icons-png.flaticon.com/512/3448/3448384.png" alt="é©šå–œæ³³æ± ">
        <p class="mb-0">é©šå–œæ³³æ± </p>
      </a>
      <a href="#" class="text-center category-item" data-target="category5">
        <img src="https://cdn-icons-png.flaticon.com/512/2917/2917783.png" alt="ç‰§ç¾Šäººå°å±‹">
        <p class="mb-0">ç‰§ç¾Šäººå°å±‹</p>
      </a>
    </div>
  </div>

  <!-- é¡åˆ¥å…§å®¹ -->
  <div class="container mt-4  ">
    <div id="category1" class="category-content" style="display: block;">
      <h3>å°æœ¨å±‹</h3>

      <!-- å¡ç‰‡å€å¡Š -->
      <div class="container mt-f4">
        <div id="content1" class="row"></div>

      </div>
    </div>

    <div id="category2" style="display: none;">
      <div id="content2" class="row"></div>


    </div>

    <div id="category3" class="category-content">
      <h3>å‰è¡›é¢¨æ ¼</h3>
      <p>é€™æ˜¯å‰è¡›é¢¨æ ¼é¡åˆ¥çš„å…§å®¹...</p>
    </div>
    <div id="category4" class="category-content">
      <h3>é©šå–œæ³³æ± </h3>
      <p>é€™æ˜¯é©šå–œæ³³æ± é¡åˆ¥çš„å…§å®¹...</p>
    </div>
    <div id="category5" class="category-content">
      <h3>ç‰§ç¾Šäººå°å±‹</h3>
      <p>é€™æ˜¯ç‰§ç¾Šäººå°å±‹é¡åˆ¥çš„å…§å®¹...</p>
    </div>
  </div>

  <footer class="bg-dark text-white py-4">
    <div class="container text-center">
      <p class="mb-2">Â© 2025 Your Website. All Rights Reserved.</p>
      <p>
        <a href="#" class="text-white mx-2">éš±ç§æ”¿ç­–</a> |
        <a href="#" class="text-white mx-2">æœå‹™æ¢æ¬¾</a> |
        <a href="#" class="text-white mx-2">è¯çµ¡æˆ‘å€‘</a>
      </p>
    </div>
  </footer>

  <!-- å¼•å…¥ Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

  <!-- æ·»åŠ è‡ªå®šç¾© JavaScript -->
  <script>
    document.querySelectorAll('.category-item').forEach(item => {
      item.addEventListener('click', function (event) {
        // é˜²æ­¢é‡æ–°è¼‰å…¥é é¢
        event.preventDefault();

        // éš±è—æ‰€æœ‰å…§å®¹
        document.querySelectorAll('.category-content').forEach(content => {
          content.style.display = 'none';
        });

        // é¡¯ç¤ºå°æ‡‰å…§å®¹
        const target = this.getAttribute('data-target');
        document.getElementById(target).style.display = 'block';
        this.getAttribute('data-target');

        // Get tab status
        let type ;
        if (target === "category1") {
          type = 1;
        } else if (target === "category2") {
          type = 2;
        }
        console.log("type=", type)
        getData(type)


      });
    });

    // TODO
    // let type;
    // if (getComputedStyle(document.getElementById('category1')).display === 'block') {
    //   type = 1;
    // } else if (getComputedStyle(document.getElementById('category2')).display === 'block') {
    //   type = 2;
    // }
    // console.log("type=",type)



    function getData(type) {
      //fetch(`/api/data?type=${type}`)
      fetch(`/mm/kk?typee=${type}`)
        .then(response => {
          if (!response.ok) {
            throw new Error('Network response was not ok');
          }
          return response.json(); // è§£æ JSON å›æ‡‰
        })
        .then(data => {
          console.log(data)
          // å–å¾— card çš„å…§å®¹
          const card = data;
          // å¯æ ¹æ“šéœ€æ±‚å°‡ card è³‡æ–™é¡¯ç¤ºåœ¨é é¢ä¸Š
          for (let i = 0; i < card.length; i++) {
            console.log(card[i].img, card[i].title, card[i].content, card[i].price)

            let id = `content${type}`;
            const content = document.getElementById(id);
            content.innerHTML += `<div class="col-md-3 mb-4">
            <div class="card h-100 hover-img hover-image:hover">
              <div id="carouselExample${i}" class="carousel slide" data-bs-ride="carousel">
            <div class="carousel-inner" style="height: 200px">
                <div class="carousel-item active" style="height: 200px  object-fit:fill">
                    <img src="${card[i].img1}" class="d-block w-100" alt="Image 1">
                </div>
                <div class="carousel-item" style="height: 200px  object-fit:fill">
                    <img src="${card[i].img2}" class="d-block w-100" alt="Image 2">
                </div>
                <div class="carousel-item" style="height: 200px" object-fit:fill>
                    <img src="${card[i].img3}" class="d-block w-100" alt="Image 3">
                </div>
            </div>
            <button class="carousel-control-prev" type="button" data-bs-target="#carouselExample${i}" data-bs-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Previous</span>
            </button>
            <button class="carousel-control-next" type="button" data-bs-target="#carouselExample${i}" data-bs-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Next</span>
            </button>
        </div>
              <div class="card-body">
                <h5 class="card-title">${card[i].title}</h5>
                <p class="card-text">${card[i].content}<br>3æœˆ2æ—¥è‡³7æ—¥</p>
                <p class="fw-bold">${card[i].price}</p>
                <p><i class="bi bi-star-fill text-warning"></i>${card[i].rate} </p>
                <div class="product" id="${card[i].product}">
                  <button type="button" class="w-100 btn btn-lg btn-outline-primary buy-btn " data-product="${card[i].product}">Book</button>
                </div> 
              </div>
            </div>
          </div>`

          }

        })
        .catch(error => {
          console.error('Error fetching data:', error);
        });
    }

    const translations = {
      zh: {
        wood: "å°æœ¨å±‹",
        bnb: "æ°‘å®¿",
      },
      en: {
        wood: "Cabin",
        bnb: "Bed and Breakfast",
      },
      es: {
        wood: "CabaÃ±a",
        bnb: "Casa Rural",
      }
    };

    document.getElementById('language-select').addEventListener('change', function () {
      const selectedLanguage = this.value;

      document.getElementById('wood').textContent = translations[selectedLanguage].wood;
      document.getElementById('bnb').textContent = translations[selectedLanguage].bnb;
    });



  </script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>


  <script>
    // åˆå§‹å€¼ (å¦‚æœ localStorage è£¡æ²’æœ‰ cartï¼Œå°±è¨­ç½®ä¸€å€‹åˆå§‹å€¼)
    if (!localStorage.getItem("cart")) {
      localStorage.setItem("cart", JSON.stringify({ p1: 0, p2: 0, p3: 0, p4: 0 }));
    }

    // æ›´æ–°æŒ‰éˆ•é»æ“Šå¾Œçš„è¨ˆæ•¸é‚è¼¯
    function updateCounter(key) {
      // å–å¾—ç›®å‰çš„ cart è³‡æ–™
      let cart = JSON.parse(localStorage.getItem("cart"));

      // æ›´æ–°å°æ‡‰çš„ key çš„å€¼
      cart[key]++;

      // å°‡æ›´æ–°å¾Œçš„è³‡æ–™å­˜å› localStorage
      localStorage.setItem("cart", JSON.stringify(cart));

      // æ¸¬è©¦è¼¸å‡º (å¯åˆªé™¤)
      console.log(`Updated ${key}:`, cart);
    }

    // ç¶å®šæŒ‰éˆ•äº‹ä»¶
    /*
    document.getElementById("product1").addEventListener("click", () => updateCounter("p1"));
    document.getElementById("product2").addEventListener("click", () => updateCounter("p2"));
    document.getElementById("product3").addEventListener("click", () => updateCounter("p3"));
    document.getElementById("product4").addEventListener("click", () => updateCounter("p4")); 
    */

  </script>
  <script>
    // è³¼ç‰©è»Šå½ˆè·³è¦–çª—é‚è¼¯
    const cartIcon = document.getElementById("cart-icon");
    const cartPopup = document.getElementById("cart-popup");
    const cartItems = document.getElementById("cart-items");
    const overlay = document.getElementById("overlay");
    const closePopup = document.getElementById("close-popup");

    // æ›´æ–°è³¼ç‰©è»Šå…§å®¹
    function updateCartPopup() {
      const cart = JSON.parse(localStorage.getItem("cart"));
      cartItems.innerHTML = ""; // æ¸…ç©ºç¾æœ‰åˆ—è¡¨
      for (const [key, value] of Object.entries(cart)) {
        const li = document.createElement("li");
        li.textContent = `${key}: ${value}`;
        cartItems.appendChild(li);
      }
    }

    // é–‹å•Ÿå½ˆè·³è¦–çª—
    cartIcon.addEventListener("click", () => {
      updateCartPopup();
      cartPopup.style.display = "block";
      overlay.style.display = "block";
    });

    // é—œé–‰å½ˆè·³è¦–çª—
    closePopup.addEventListener("click", () => {
      cartPopup.style.display = "none";
      overlay.style.display = "none";
    });
    overlay.addEventListener("click", () => {
      cartPopup.style.display = "none";
      overlay.style.display = "none";
    });
  </script>


</body>

</html>
